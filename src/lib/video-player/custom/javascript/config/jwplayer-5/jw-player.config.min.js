/**
*    The Nomensa accessible media player is a flexible multimedia solution for websites and intranets.  
*    The core player consists of JavaScript wrapper responsible for generating an accessible HTML toolbar 
*    for interacting with a media player of your choice. We currently provide support for YouTube (default),
*    Vimeo and JWPlayer although it should be possible to integrate the player with almost any media player on
*    the web (provided a JavaScript api for the player in question is available).
*    
*    Copyright (C) 2012  Nomensa Ltd
*
*    This program is free software: you can redistribute it and/or modify
*    it under the terms of the GNU General Public License as published by
*    the Free Software Foundation, either version 3 of the License, or
*    (at your option) any later version.
*
*    This program is distributed in the hope that it will be useful,
*    but WITHOUT ANY WARRANTY; without even the implied warranty of
*    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
*    GNU General Public License for more details.
*
*    You should have received a copy of the GNU General Public License
*    along with this program.  If not, see <http://www.gnu.org/licenses/>.
**/

// Main config required for the nomensa media player to work with the jw player
var jwconfig={init:function(b){var a=this;this.player=b;this.cue();this.player.onPlay(function(c){a.setSliderTimeout();if(a.config.buttons.toggle){a.$html.find(".play").removeClass("play").addClass("pause").text("Pause")}if(a.config.captionsOn&&a.captions){a.setCaptionTimeout()}});this.player.onPause(function(c){a.clearSliderTimeout();if(a.config.buttons.toggle){a.$html.find(".pause").removeClass("pause").addClass("play").text("Play")}if(a.config.captionsOn&&a.captions){a.clearCaptionTimeout()}});if(this.config.repeat===true){this.player.onComplete(function(c){a.play()})}},destroyPlayerInstance:function(){if(this.player!=undefined){this.player.remove()}},getURL:function(){return this.config.url},play:function(){this.player.play();this.setSliderTimeout();if(this.config.captionsOn&&this.captions){this.setCaptionTimeout()}},pause:function(){this.player.pause();this.clearSliderTimeout();if(this.config.captionsOn&&this.captions){this.clearCaptionTimeout()}},mute:function(){var a=this.$html.find("button.mute");this.player.setMute();if(a.hasClass("muted")){a.removeClass("muted")}else{a.addClass("muted")}},getCurrentTime:function(){return this.player.getPosition()},getBytesLoaded:function(){return this.player.getBuffer()},getBytesTotal:function(){return 100},seek:function(a){this.player.seek(a);if(this.config.captionsOn&&this.captions){this.$html.find(".caption").remove();this.clearCaptionTimeout();this.getPreviousCaption(a);this.setCaptionTimeout()}},cue:function(){return}};function jwPlayerReady(b){var d=jQuery(b.ref).attr("id");var a=PlayerDaemon.getPlayer(d);var c=jwplayer(b.ref);a.init(c)};
